{# 轮廓铣削NC代码模板 #}
; 轮廓铣削 - {{ workpiece_length }}x{{ workpiece_width }}mm
; 进给: {{ feed_rate }} mm/min, 转速: {{ spindle_speed }} RPM
; 刀径: {{ tool_diameter }}mm, 切深: {{ depth_of_cut }}mm

N10 G90 G54 G17 G21   ; 绝对坐标, 工件坐标系, XY平面, 公制
N20 T01 M6             ; 选择刀具1
N30 G43 H01 Z{{ safety_height }}  ; 刀长补偿, Z轴到安全高度
N40 M03 S{{ spindle_speed }}     ; 主轴正转

N50 G00 X{{ workpiece_length/2 - tool_diameter }} Y{{ workpiece_width/2 - tool_diameter }}  ; 快速定位到起点
N60 G01 Z{{ depth_of_cut }} F{{ feed_rate }}  ; 下刀到切削深度

; 铣削矩形轮廓
N70 G01 X{{ workpiece_length/2 + tool_diameter }}  ; 右侧
N80 G01 Y{{ workpiece_width/2 + tool_diameter }}   ; 上侧
N90 G01 X{{ workpiece_length/2 - tool_diameter }}  ; 左侧
N100 G01 Y{{ workpiece_width/2 - tool_diameter }}   ; 下侧，回到起点

N110 G00 Z{{ safety_height }}  ; Z轴抬到安全高度
N120 M05                 ; 主轴停止
N130 M30                 ; 程序结束
